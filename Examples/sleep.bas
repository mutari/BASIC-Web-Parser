1 REM SETUP
2 NAMESPACE "SLEEP"

10 LET PATH_SLEEP = 1001
11 LET PATH_TIME = 2000
12 LET PATH_EXIT = 10000
13 LET PATH_MAIN_SLEEP = 3000
14 LET PATH_DIFF = 4000
20 LOAD SEC
21 LET START_TIME = SEC
22 LET SLEEP = 2

110 PRINT "Start"
120 GOSUB PATH_MAIN_SLEEP
130 PRINT "SLEEP"
140 PRINT DIFF

200 FOR X = 0 TO 5
210 PRINT "LOOP: " + X
220 GOSUB PATH_MAIN_SLEEP
221 PRINT DIFF
230 NEXT X

999 PRINT "END!"
1000 GOTO PATH_EXIT



1001 REM Sleep function
1010 LET MAX = 1000
1011 LET MAX_J = MAX / 10
1020 FOR I = 0 TO MAX
1030 FOR J = 0 TO MAX_J
1040 V = I
1050 NEXT J
1060 NEXT I
1070 RETURN
1099 REM Sleep function

2000 REM Print time
2010 GOSUB PATH_DIFF
2020 START_TIME = SEC
2030 PRINT DIFF
2040 RETURN

3000 REM The real sleep function
3010 GOSUB PATH_SLEEP
3020 GOSUB PATH_DIFF
3030 IF DIFF >= SLEEP THEN GOTO 3100 ELSE GOTO 3000

3100 START_TIME = SEC
3110 RETURN


4000 REM Get DIFF
4010 LOAD SEC
4020 LET DIFF = SEC - START_TIME
4030 RETURN

10000 REM END!